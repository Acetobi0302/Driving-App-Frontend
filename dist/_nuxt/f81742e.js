(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{530:function(e,t,n){var content=n(557);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(72).default)("1ef8da08",content,!0,{sourceMap:!1})},556:function(e,t,n){"use strict";n(530)},557:function(e,t,n){var r=n(71)(!1);r.push([e.i,".borderbottom{border-bottom:4px solid #e9ecef!important}",""]),e.exports=r},587:function(e,t,n){"use strict";n.r(t);var r=n(20),o=(n(75),n(31),{props:{event:{type:Object,default:null},isEdit:{type:Boolean,default:!0}},data:function(){return{student_id:null,currentPage:1,perPage:10,filter:null,franchise_id:null,isBusy:!1,fields:[{key:"#"},{key:"users.name",label:this.$tc("UserName"),sortable:!0},{key:"note",label:this.$tc("Note"),sortable:!0},{key:"created_at",label:this.$tc("Date"),sortable:!0,formatter:function(e){return e.slice(0,10)}},{key:"action",label:this.$tc("action"),sortable:!1,tdClass:"text-center",thClass:"text-center"}]}},computed:{items:function(){return this.$store.state.notes},totalRows:function(){return this.items.length}},mounted:function(){this.$nextTick(Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isEdit){e.next=4;break}return this.booking_id=this.event.id,e.next=4,this.$store.dispatch("getNotes",this.booking_id);case 4:case"end":return e.stop()}}),e,this)}))))},methods:{deletenote:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.isBusy=!0,console.log(e),n.next=4,t.$store.dispatch("deleteNote",e);case 4:if(!n.sent){n.next=9;break}return t.booking_id=t.event.id,n.next=9,t.$store.dispatch("getNotes",t.booking_id);case 9:t.isBusy=!1;case 10:case"end":return n.stop()}}),n)})))()}}}),c=(n(556),n(30)),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-table",{attrs:{items:e.items,fields:e.fields,"current-page":e.currentPage,"per-page":e.perPage,hover:!0,busy:e.isBusy,"show-empty":"",stacked:"md",striped:"","tbody-tr-class":"rowclass","no-border-collapse":!0,"head-variant":"light",small:"",responsive:""},scopedSlots:e._u([{key:"table-busy",fn:function(){return[n("div",{staticClass:"text-center text-danger my-2"},[n("b-spinner",{staticClass:"align-middle"}),e._v(" "),n("strong",[e._v("Loading...")])],1)]},proxy:!0},{key:"cell(#)",fn:function(t){return[n("div",{staticClass:"td-action",staticStyle:{display:"flex"}},[e._v("\n        "+e._s(t.index+1+e.perPage*(e.currentPage-1))+"\n      ")])]}},{key:"cell(course_fees)",fn:function(t){return[n("b-badge",{staticStyle:{"font-size":"100%"},attrs:{pill:"",variant:t.item.paid?"success":"danger"}},[e._v(e._s(t.item.course_fees))])]}},{key:"cell(action)",fn:function(t){return[n("div",{staticClass:"td-action"},[n("b-button",{staticClass:"p-2 border-0 rounded-circle",attrs:{variant:"outline-danger"},on:{click:function(n){return e.deletenote(t.item.id)}}},[n("i",{staticClass:"fas fa-trash-alt fa-r17x"})])],1)]}}])}),e._v(" "),n("b-card-footer",{staticClass:"pt-3 pb-1 d-flex justify-content-end"},[n("b-pagination",{attrs:{"total-rows":e.totalRows,"per-page":e.perPage,"last-number":"","first-number":""},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);